<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>画像配置PDFメーカー</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <h1>画像配置PDFメーカー</h1>

    <div class="card">
        <label>1. 画像を選択 (複数可)</label>
        <input type="file" id="imageInput" multiple accept="image/*">
        <div class="note">
            <span id="fileCount">未選択</span>
            <span id="pageTotal" style="margin-left: 10px; font-weight:bold; color:#ff6b6b;"></span>
        </div>

        <label>2. 画像の横幅 (mm)</label>
        <input type="number" id="imgWidth" value="30" min="10" max="190">
        <div class="note">※高さはアスペクト比を維持して自動調整されます</div>

        <label>3. 画像間の余白 (mm)</label>
        <input type="number" id="gap" value="5" min="0" max="50">

        <label>4. 用紙サイズ</label>
        <select id="pageSize">
            <option value="a4">A4 (210×297mm)</option>
            <option value="l">L判 (89×127mm)</option>
        </select>

        <div class="checkbox-wrapper">
            <div class="checkbox-row">
                <input type="checkbox" id="drawBorder" checked>
                <label for="drawBorder" style="margin:0; cursor:pointer; font-weight:normal;">切り取り線 (ガイド) を表示</label>
            </div>

            <label for="borderColor" style="margin-top:10px; font-size:0.85em; font-weight:normal;">線の色：</label>
            <select id="borderColor">
                <option value="gray">グレー (標準)</option>
                <option value="black">黒</option>
                <option value="pink">ピンク</option>
                <option value="blue">ブルー</option>
            </select>
        </div>

        <button id="generateBtn">PDFを作成してダウンロード</button>
        <p id="status"></p>

        <h2 style="text-align:center; margin-top: 40px; color:#ff6b6b;">リアルタイムプレビュー</h2>
        <p class="note" style="text-align: center;">※実際のPDFの1ページ目のイメージです</p>

        <div id="preview-container">
            <canvas id="previewCanvas"></canvas>
        </div>
    </div>

    <div id="feedback-footer" style="text-align: center; margin-top: 50px; padding-bottom: 20px;">
        <a href="javascript:void(0)" id="feedbackLink" style="color: #999; text-decoration: none; font-size: 0.85em; transition: color 0.3s;">
            フィードバック・要望を送る
        </a>
    </div>

    <script src="scripts/main.js"></script>
</body>
</html>
